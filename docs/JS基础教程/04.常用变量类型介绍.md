---
title: 常用变量类型介绍
date: 2021-07-30 14:22:46
permalink: /pages/6216a3/
categories:
  - JS基础教程
tags:
  - js
---
# 常用变量类型介绍

## 一、类型检测方法
### 1.1-typeof
typeof可以检测一下几种类型：
* 基本类型：number、string、boolean
* 引用类型：function、object
* undefined
```javascript
let num = 22;
console.log(typeof num); // number

let str = 'xiaoyang';
console.log(typeof str); // string

let flag = true;
console.log(typeof flag); // boolean

let person;
console.log(typeof person); // undefined

let obj = {};
console.log(typeof obj); // object

const fn = function () {};
console.log(typeof fn); // function
```
### 1.2-instanceof
该运算符雨来检测构造函数的prototype属性是否出现在某个实例对象的原型链中，说白点就是是否为某个构造函数的实例。
```javascript
let arr = [];
let obj = {};
console.log(arr instanceof Array); // true
console.log(obj instanceof Array); // false

const User = function () {};
let person = new User();
console.log(person instanceof User); // true
```
### 1.3-constructor
我们可以通过该属性来得出变量属于哪种类型，但是结果不是绝对的，因为该属性可以被修改。
```javascript
console.log(('str').constructor === String); // true
console.log((1).constructor === Number ); // true
console.log((true).constructor === Boolean); // true
```
::: danger 注意
null和undefined属性没有该属性，所以无法判断这两个类型。
:::
### 1.4-Object.prototype.toString
这个方法可以检测任意类型，是主流检测类型的方式。
::: theorem Object.prototype.toString()
每个对象都有一个 toString() 方法，当该对象被表示为一个文本值时，或者一个对象以预期的字符串方式引用时自动调用。默认情况下，toString() 方法被每个 Object 对象继承。如果此方法在自定义对象中未被覆盖，toString() 返回 "[object type]"，其中 type 是对象的类型。
::: right
来自 [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString)
:::
```javascript
const toString = Object.prototype.toString;
toString.call(new Date()); // [object Date]
toString.call(1); // [object Number]
toString.call(undefined); // [object Undefined]
toString.call(null); // [object Null]
```


## 二、String类型
字符串类型是使用非常多的数据类型，也是相对简单的数据类型。
### 2.1-声明定义
使用对象形式创建字符串
```javascript
let str = new String('hello');
// 打印字符串
console.log(str.toString()); // hello
```
使用字面量形式创建字符串
```javascript
let str1 = 'hello';
let str2 = "hello";
let str3 = `hello`;
```
::: danger 注意
以上三种方式声明字符串没有什么区别。
:::

### 2.2-转义字符
有些字符无法正常显示或者有双层含义，可以使用\转义符号进行含义转换。
```javascript
let content = 'I\'m teacher!'
console.log(content);
```
常用转义字符：
* `\t`: 制表符
* `\n`: 换行
* `\\`: 斜杠符号

### 2.3-字符连接
使用+可以连接多个字符串。
```javascript
let age = 22;
console.log('我今年 ' + age + ' 岁了');
```
当然，ES6发布之后，我们可以使用反引号连接多个字符串，并且非常的方便。
```javascript
let myName = 'xiaoyang';
let myAge = 22;
console.log(`我叫${myName},我今年${myAge}岁`);
```

### 2.4-常用属性及方法
#### 2.4.1 获取字符长度
```javascript
console.log('xiaoyang'.length); // 8
```
#### 2.4.2 转换大小写
```javascript
let msg = 'hello world';
// 转换为大写
console.log(msg.toUpperCase()); // HELLO WORLD
// 转换为小写
console.log(msg.toLowerCase()); // hello world
```
#### 2.4.3 字符两端移除空白
```javascript
let str = '    alva-yky.top    ';
console.log(str.length); // 20
console.log(str.trim().length); // 12
```
#### 2.4.4 获取单个字符
这个是从0开始计算的哈，别弄错了。
```javascript
// 获取第2个字符
console.log('xiaoyang'.charAt(1)); // i

// 获取最后一个字符
console.log('xiaoyang'['xiaoyang'.length - 1]);
```
#### 2.4.5 截取部分字符
有三种方式可以截取字符串：slice、substr、substring。
* slice方法，可以接收两个参数，截取从起始索引到结束索引的字符串（不包含结束索引）。
```javascript
const str = 'The quick brown fox jumps over the lazy dog.';

console.log(str.slice(31)); // "the lazy dog."

console.log(str.slice(4, 19)); // "quick brown fox"

console.log(str.slice(-4)); // "dog."

console.log(str.slice(-9, -5)); // "lazy"
```
* substr方法，可以接收两个参数，从起始索引开始，截取指定长度的字符串。
```javascript
const str = 'abcdefghij';

console.log("(1,2): "    + str.substr(1,2));   // (1,2): bc
console.log("(-3,2): "   + str.substr(-3,2));  // (-3,2): hi
console.log("(-3): "     + str.substr(-3));    // (-3): hij
console.log("(1): "      + str.substr(1));     // (1): bcdefghij
console.log("(-20, 2): " + str.substr(-20,2)); // (-20, 2): ab
console.log("(20, 2): "  + str.substr(20,2));  // (20, 2):
```
* substring方法，可以接收两个参数，从起始索引截取到结束索引的位置（不包括结束索引）。
```javascript
const str = 'xiaoyang';

console.log(str.substring(0, 3)); // 'xia'
console.log(str.substring(3,0)); // 'xia'
console.log(str.substring(4)); // 'yang'
console.log(str.substring(4, 8)); // 'yang'
```
#### 2.4.6 字符串查找
常用字符串查找方法有以下几种：indexOf、lastIndexOf、search、includes、startsWith、endsWith
