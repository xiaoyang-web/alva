---
title: 语言基础
date: 2021-07-15 10:54:19
permalink: /pages/440bc8/
categories:
  - JS基础教程
tags:
  - js
---
# 语言基础

## 一、语法
### 1.1-区分大小写
ECMAscript中一切都是区分大小写的，无论是变量、函数名还是操作符，都区分大小写。

### 1.2-标识符
标识符：就是变量、函数、属性或者函数参数的名称，标识符命名规范：
* 第一个字符必须是一个字符、下划线（_）或者美元符号（$）。
* 按照惯例，我们一般遵循驼峰命名法，首单词第一个字母小写，后面单词首字母需要大写。
* 不能是JavaScript中的关键字和保留字。

### 1.3-注释
ECMAScript中包括两种注释风格：
* 单行注释
```javascript
// 单行注释
```
* 多行注释
```javascript
/* 
  我是多行注释
*/
```

### 1.4-严格模式
ECMAScript 5中增加了严格模式的概念。严格模式是一种不同的 JavaScript 解析和执行模型，ECMAScript 3 的一些不规范写法在这种模式下会被处理，对于不安全的活动将抛出错误。
```javascript
"use strict" // 放在脚本第一行即可开启严格模式
```

### 1.5-语句
ECMAScript中的语句以分号结尾，虽然语句末尾的分号不是必须的，平时开发中也应该加上，这是一个良好的习惯。
```javascript
let total = a + b // 有效但不推荐
let sum = a - b; // 语句结束推荐使用分号
```

## 二、变量
### 2.1-什么是变量
变量是用于存放数据的容器，我们可以通过变量名来获取数据，变量可以用于保存任何类型的数据。

![](https://cdn.jsdelivr.net/gh/xiaoyang-web/blog-imgs/images/%E5%9B%BE%E7%89%8713.png)

### 2.2-使用变量
在最新的ECMAScript标准中，我们有3个关键字可以声明变量：var、let、const，其中，var可以在所有版本中使用，而let和const只能在ECMAScript 6及更晚的版本中使用。
#### 2.2.1 var关键字
```javascript
var age; // 声明了一个名称为age的变量
age = 22; // 给变量age赋值
```
##### 1、var声明作用域
var除了在函数块中声明的变量为局部变量，其他在任何地方声明的变量都为全局变量
```javascript
var age = 22; // 全局变量
function fn() {
  var age = 44; // 局部变量
}
console.log(age); // 22
```
##### 2、var声明提升
使用var时，下面的代码不会报错，因为使用了这个关键字声明的变量会自动提升到作用域顶部：
```javascript
console.log(age); // undefined
var age = 22;
```
之所以不会报错，是因为代码运行时把它看成等价于如下代码：
```javascript
var age;
console.log(age); // undefined
age = 22;
```
#### 2.2.2 let关键字
let关键字的作用跟var关键字作用差不多，但是有着非常重要的区别，最明显的区别就是，let声明的范围是块作用域，而var声明的范围是函数作用域。
```javascript
/* var */
if (true) {
  var name = 'xiaoyang';
  console.log(name); // xiaoyang
}
console.log(name); // xiaoyang

/* let */
if (true) {
  let age = 22;
  console.log(age); // 22
}
console.log(age); // 引用错误：age没有定义
```
##### 1、暂时性死区
let和var另一个重要的区别就是let声明的变量不会在作用域中被提升。
```javascript
// name会被提升
console.log(name); // undefined
var name = 'xiaoyang';

// age不会被提升
console.log(age); // 引用错误：age没有定义
let age = 22;
```
##### 2、全局变量
跟var不同的是，let定义的变量不会成为window对象的属性。
```javascript
var name = 'xiaoyang';
console.log(window.name); // 'xiaoyang'

let age = 22;
console.log(window.age); // undefined
```
##### 3、for循环中的let声明
用var声明的循环迭代变量会渗透到循环体外部，而let声明的迭代变量则不会出现这样的问题。
```javascript
// var声明
for (var i=0; i<5; i++) {
  // 循环逻辑
}
console.log(i); // 5

// let声明
for (let i=0; i<5; i++>) {
  // 循环逻辑
}
console.log(i); // 报错
```
#### 2.2.3 const关键字
const的行为与let声明基本相同，唯一一个重要的区别就是const声明的变量声明后必须初始化变量，且无法修改const声明的变量。
```javascript
// 赋值会报错
const age = 26;
age = 24; // 报错

// 重复声明也会报错
const name = 'xiaoyang';
const name = 'xiaoli'; // 报错

// const声明的各种限制只是适用于指向变量的引用，说白点就是，只要不改变引用，就不违法限制。
const person = {};
person.name = 'xiaoyang'; // 成功执行
```
#### 2.2.4 声明最佳实践
不是var声明变量，const声明优先，let声明次之。

## 三、数据类型
在ECMAScript标准中，我们常见的原始数据类型有5种：Number、String、Boolean、Undefined、Null，当然，还有一种不常见的原始数据类型：Symbol（符号）。
最后还有一种复杂的数据类型叫做Object，所有的值都可以用上述7种数据类型其中之一来表示。
### 3.1-typeof操作符
用于判断任意变量的数据类型。
* "undefined"表示值未定义;
* "boolean"表示值为布尔值;
* "string"表示值为字符串;
* "number"表示值为数值;
* "object"表示值为对象（而不是函数）;
* "function"表示值为函数;
* "symbol"表示值为符号;
```javascript
let username = 'xiaoyang';
console.log(typeof username); // string
console.log(typeof 100); // number
```
::: danger 注意
typeof null 返回的是"object"，因为历史原因，特殊值null被认为是一个空对象的引用。
:::

### 3.2-Number类型
Number类型使用IEEE 754格式表示整数和浮点值。
最基本的数值字面量格式是十进制整数。
```javascript
let age = 23; // 整型
```
当然，整数也可以使用二进制、八进制或十六进制字面量来表示。
```javascript
let num1 = 0b110; // 二进制，代表十进制的6
let num2 = 0o70; // 八进制，代表十进制的56
let num3 = 0xaf; // 十六进制，代表十进制的175
```
#### 3.2.1 浮点值
要定义一个浮点值，数值中必须要包括小数点，并且小数点后面至少有一个小数。
```javascript
let num1 = 1.2;
let num2 = 0.01;
```
#### 3.2.2 数值范围
由于内存的限制，数值肯定都会有一个范围，ECMAScript可以表示的最小数值保存在Number.MIN_VALUE中，可以表示的最大数值保存在Number.MAX_VALUE中，当然，这个数值范围已经可以满足绝大多数的情况了。如果超出这个范围，那么这个数值会自动转换为一个特殊值：Infinity（无穷）。
当然，要确定一个值是否有限大，我们可以使用isFinite()函数。
```javascript
let result = Number.MAX_VALUE * 2;
console.log(isFinite(result)); // false
```
#### 3.2.3 NaN
有一个特殊的数值叫做NaN，大概意思是“不是一个数值”，NaN有几个独有的属性：
* NaN不等于任何值，哪怕是NaN本身
* 凡是涉及到NaN的操作始终返回的是NaN
```javascript
console.log(NaN == NaN); // fasle
console.log(NaN * 12); // NaN
```
由于无法通过正常手段判断一个值是否为NaN，ECMAScript提供了isNaN()函数来进行判断。
```javascript
console.log(isNaN(NaN)); // true
console.log(isNaN('blue')); // true，不可以转换为数值
```
::: danger 注意
上面所讲的是window对象上的isNaN()函数，该函数判断时值会发生“隐式转换”。
Number对象上也有一个isNaN()函数，该函数则不存在“隐式转换”问题。
:::
#### 3.2.4 数值转换
有3个函数可以将非数值转换为数值：Number()、parseInt()、parseFloat()。
Number()是转型函数，适用于任何数据类型，后两个则主要用于字符类型转换为数值。

* Number()函数转换规则：

| 类型      | 结果                                                         |
| --------- | ------------------------------------------------------------ |
| Boolean   | true转换为1，false转换为0                                    |
| Number    | 直接返回                                                     |
| String    | 情况有点多，大体就是，如果包括非数值字符，直接返回NaN。其他则按情况返回，说再多不如试一下。 |
| Null      | 返回0                                                        |
| Undefined | 返回NaN                                                      |
| Object    | 调用valueOf()方法，并按照上述规则返回对应值，如果结果是NaN，则调用toString()方法，再按照转换字符串的规则转换。 |

```javascript
let num1 = Number('hello world'); // NaN
let num2 = Number(''); // 0
let num3 = Number(undefined); // NaN
let num4 = Number(true); // 1
```
* parseInt()函数和parseFloat()函数转换规则：
从第一个非空格字符开始转换，如果第一个字符不是数值字符、加号或减号，立即返回NaN。
如果第一个字符是数值字符、加号或者减号，则会继续依次检测每个字符，直到结尾或者碰到非数值字符。
```javascript
let num1 = parseInt('123blue'); // 123
let num2 = parseInt(''); // NaN
let num3 = parseFloat('22.2blue'); // 22.2
let num4 = parseFloat('09.32.1'); // 9.32
```



### 3.3-String类型
