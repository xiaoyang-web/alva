---
title: 常用变量类型介绍
date: 2021-07-30 14:22:46
permalink: /pages/6216a3/
categories:
  - JS基础教程
tags:
  - js
---
# 常用变量类型介绍

## 一、类型检测方法
### 1.1-typeof
typeof可以检测一下几种类型：
* 基本类型：number、string、boolean
* 引用类型：function、object
* undefined
```javascript
let num = 22;
console.log(typeof num); // number

let str = 'xiaoyang';
console.log(typeof str); // string

let flag = true;
console.log(typeof flag); // boolean

let person;
console.log(typeof person); // undefined

let obj = {};
console.log(typeof obj); // object

const fn = function () {};
console.log(typeof fn); // function
```
### 1.2-instanceof
该运算符雨来检测构造函数的prototype属性是否出现在某个实例对象的原型链中，说白点就是是否为某个构造函数的实例。
```javascript
let arr = [];
let obj = {};
console.log(arr instanceof Array); // true
console.log(obj instanceof Array); // false

const User = function () {};
let person = new User();
console.log(person instanceof User); // true
```
### 1.3-constructor
我们可以通过该属性来得出变量属于哪种类型，但是结果不是绝对的，因为该属性可以被修改。
```javascript
console.log(('str').constructor === String); // true
console.log((1).constructor === Number ); // true
console.log((true).constructor === Boolean); // true
```
::: danger 注意
null和undefined属性没有该属性，所以无法判断这两个类型。
:::
### 1.4-Object.prototype.toString
这个方法可以检测任意类型，是主流检测类型的方式。
::: theorem Object.prototype.toString()
每个对象都有一个 toString() 方法，当该对象被表示为一个文本值时，或者一个对象以预期的字符串方式引用时自动调用。默认情况下，toString() 方法被每个 Object 对象继承。如果此方法在自定义对象中未被覆盖，toString() 返回 "[object type]"，其中 type 是对象的类型。
::: right
来自 [MDN](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString)
:::
```javascript
const toString = Object.prototype.toString;
toString.call(new Date()); // [object Date]
toString.call(1); // [object Number]
toString.call(undefined); // [object Undefined]
toString.call(null); // [object Null]
```


## 二、String类型
字符串类型是使用非常多的数据类型，也是相对简单的数据类型。
### 2.1-声明定义
使用对象形式创建字符串
```javascript
let str = new String('hello');
// 打印字符串
console.log(str.toString()); // hello
```
使用字面量形式创建字符串
```javascript
let str1 = 'hello';
let str2 = "hello";
let str3 = `hello`;
```
::: danger 注意
以上三种方式声明字符串没有什么区别。
:::

### 2.2-转义字符
有些字符无法正常显示或者有双层含义，可以使用\转义符号进行含义转换。
```javascript
let content = 'I\'m teacher!'
console.log(content);
```
常用转义字符：
* `\t`: 制表符
* `\n`: 换行
* `\\`: 斜杠符号

### 2.3-字符连接
使用+可以连接多个字符串。
```javascript
let age = 22;
console.log('我今年 ' + age + ' 岁了');
```
当然，ES6发布之后，我们可以使用反引号连接多个字符串，并且非常的方便。
```javascript
let myName = 'xiaoyang';
let myAge = 22;
console.log(`我叫${myName},我今年${myAge}岁`);
```

### 2.4-常用属性及方法
#### 2.4.1 获取字符长度
```javascript
console.log('xiaoyang'.length); // 8
```
#### 2.4.2 转换大小写
```javascript
let msg = 'hello world';
// 转换为大写
console.log(msg.toUpperCase()); // HELLO WORLD
// 转换为小写
console.log(msg.toLowerCase()); // hello world
```
#### 2.4.3 字符两端移除空白
```javascript
let str = '    alva-yky.top    ';
console.log(str.length); // 20
console.log(str.trim().length); // 12
```
#### 2.4.4 获取单个字符
这个是从0开始计算的哈，别弄错了。
```javascript
// 获取第2个字符
console.log('xiaoyang'.charAt(1)); // i

// 获取最后一个字符
console.log('xiaoyang'['xiaoyang'.length - 1]);
```
#### 2.4.5 截取部分字符
有三种方式可以截取字符串：slice、substr、substring。
* slice方法，可以接收两个参数，截取从起始索引到结束索引的字符串（不包含结束索引）。
```javascript
const str = 'The quick brown fox jumps over the lazy dog.';

console.log(str.slice(31)); // "the lazy dog."

console.log(str.slice(4, 19)); // "quick brown fox"

console.log(str.slice(-4)); // "dog."

console.log(str.slice(-9, -5)); // "lazy"
```
* substr方法，可以接收两个参数，从起始索引开始，截取指定长度的字符串。
```javascript
const str = 'abcdefghij';

console.log("(1,2): "    + str.substr(1,2));   // (1,2): bc
console.log("(-3,2): "   + str.substr(-3,2));  // (-3,2): hi
console.log("(-3): "     + str.substr(-3));    // (-3): hij
console.log("(1): "      + str.substr(1));     // (1): bcdefghij
console.log("(-20, 2): " + str.substr(-20,2)); // (-20, 2): ab
console.log("(20, 2): "  + str.substr(20,2));  // (20, 2):
```
* substring方法，可以接收两个参数，从起始索引截取到结束索引的位置（不包括结束索引）。
```javascript
const str = 'xiaoyang';

console.log(str.substring(0, 3)); // 'xia'
console.log(str.substring(3,0)); // 'xia'
console.log(str.substring(4)); // 'yang'
console.log(str.substring(4, 8)); // 'yang'
```
#### 2.4.6 字符串查找
常用字符串查找方法有以下几种：indexOf、lastIndexOf、search、includes
* indexOf方法，可以接收两个参数，第一个为需要查找的字符，第二个表示开始查找的位置。
```javascript
console.log('xiaoyang'.indexOf('a')); // 2
console.log('xiaoyang'.indexOf('a', 3)); // 5
```
* lastIndexOf方法，顾名思义，就是反向查找，参数跟indexOf类似。
```javascript
console.log('xiaoyang'.lastIndexOf('a')); // 5
console.log('xiaoyang'.lastIndexOf('a', 4)); // 2
```
* search方法，用于检索字符串中指定的子字符串，也可以使用正则表达式搜索。
```javascript
let str = 'xiaoyang';
console.log(str.search('xiao')); // 0
console.log(str.search('yang')); // 4
```
* includes方法，用于判断字符串中是否包含指定的值，第二个参数表示开始查找的位置。
```javascript
console.log('xiaoyang'.includes('a')); // true
console.log('xiaoyang'.includes('a', 3)); // true
```
#### 2.4.7 替换字符串
replace方法用于字符串的替换操作。
```javascript
let name = 'xiaoyang';
let newName = name.replace('a', ' ');
console.log(newName); // xi oyang
```
::: danger 注意
默认只会替换一次，如果需要全局替换的话可以使用正则或者replaceAll方法
:::
#### 2.4.8 重复生成字符
可以使用repeat方法重复字符。
```javascript
console.log('*'.repeat(3)); // ***
```


### 2.5-类型转换
我们可以使用split方法将一个字符串转化为一个数组。
```javascript
let name = 'xiaoyang';
console.log(name.split('')); // ['x','i','a','o','y','a','n','g']
```
其他类型转换为字符串。
```javascript
// 隐式类型转换
let numStr = 99 + '';
console.log(typeof numStr); // string

// 显式转换
let num = 99;
console.log(typeof num.toString()); // string
console.log(typeof String(num)); // string
```

## 三、Boolean类型
开发中经常看到的数据类型。
### 3.1-声明定义
使用对象形式创建布尔值。
```javascript
console.log(new Boolean(true)); // true
console.log(new Boolean(false)); // false
```
使用字面量创建布尔值。
```javascript
let bool = true;
```
### 3.2-类型转换
基本上所有类型都可以隐式转换为Boolean类型。

| 数据类型  | true             | false            |
| --------- | ---------------- | ---------------- |
| String    | 非空字符串       | 空字符串         |
| Number    | 非0、NaN数值     | 0、NaN           |
| Array     | 数值不参与比较时 | 参与比较的空数组 |
| Object    | 所有对象         | /                |
| undefined | /                | undefined        |
| null      | /                | null             |
| NaN       | /                | NaN              |
* 当与Boolean类型的值比较时，两边类型会统一为数字1或0。
* 如果使用Boolean与数值比较时，会进行隐式类型转换，true转换为1，false转换为0
```javascript
console.log(3 == true); // false
console.log(0 == false); // true
```
* 如果使用Boolean与字符串比较，两边都会转换为数值类型然后再进行比较。
```javascript
console.log('xiaoyang' == true); // false
console.log('1' == true); // true
```
我们可以使用Boolean函数显式转换为布尔类型。
```javascript
let str = '';
console.log(Boolean(str));
```

## 四、Number类型
### 4.1-声明定义
使用对象方式声明数值。
```javascript
let num = new Number(3);
console.log(num + 1); // 4
```
使用字面量的方法声明数值。
```javascript
let num = 99;
console.log(typeof num); // number
```
### 4.2-NaN非数字值
NaN属性是代表非数字值的特殊值，该属性用于指示某个值不是数字。
```javascript
let str = 'xiaoyang';
console.log(str * 5); // NaN
```
我们可以使用全局函数isNaN来判断一个值是否为NaN值。
```javascript
let result = 1000 / 'a';
console.log(isNaN(result)); // true
```
### 4.3-无穷大Infinity
当数字运算结果超过了JavaScript所能表示上限（溢出），结果为一个特殊的无穷大（infinity）值，在JavaScript中以Infinity表示。同样地，当负数的值超过了JavaScript所能表示的负数范围，结果为负无穷大，以-Infinity表示。
```javascript
console.log(Number.MAX_VALUE * 2); // infinity
console.log(Number.MAX_VALUE * -2); // -infinity
```
### 4.4-常见属性和方法
#### 4.4.1 能够表示的最大值
```javascript
console.log(Number.MAX_VALUE); // 1.7976931348623157e+308
```
#### 4.4.2 能够表示的最小值
```javascript
console.log(Number.MIN_VALUE); // 5e-324
```
#### 4.4.3 字符串转换为数值
可以使用parseFloat和parseInt方法将字符串转换为数值类型。
```javascript
console.log(parseInt('12af')); // 12
console.log(parseFloat('2.4a1')); // 2.4
```
#### 4.4.4 返回指定小数位数的表示形式
toFixed方法可以返回指定位数的数值，该方法会进行四舍五入。
```javascript
let a = 1.2345;
console.log(a.toFixed(2)); // 1.23
```