---
title: HTML 面试题
date: 2021-08-17 11:41:00
permalink: /interview/html/
categories:
  - 面试题
tags:
  - HTML
---
# HTML 面试题

## 1、DOCTYPE 的作用是什么
`<!doctype html>` 声明一般位于文档的第一行，它的作用主要是告诉浏览器以什么样的模式来解析文档。一般指定了之后会以标准模式来进行文档解析，否则就以兼容模式进行解析。

* 在标准模式下，浏览器的解析规则都是按照最新的标准进行解析的。

* 而在兼容模式下，浏览器会以向后兼容的方式来模拟老式浏览器的行为，以保证一些老的网站的正确访问。

## 2、行内元素定义
HTML4 中，元素被分成两大类：inline（内联元素）与block（块级元素）。一个行内元素只占据它对应标签的边框所包含的空间。

常见行内元素：`a` `b` `span` `img` `strong` `sub` `sup` `button` `input` `label` `select` `textarea`

## 3、块级元素定义
块级元素占据其父元素的整个宽度。

常见块级元素：`div` `ul` `ol` `li` `dl` `dt` `dd` `h1` `h2` `h3` `h4` `h5` `h6`

## 4、行内元素与块级元素的区别
* 格式：默认情况下，行内元素不会以新行开始，但块级元素会另起一行。

* 内容：默认情况下，行内元素只能包含文本和其他行内元素，而块级元素可以包含行内元素和其他块级元素。

* 盒模型：行内元素设置 width 无效，height 无效，设置上下 margin 和 padding 不会对其他元素产生影响。

## 5、空元素定义
标签内没有内容的 HTML 标签被称为空元素，空元素是在开始标签中关闭的。

常见空元素：`br` `hr` `img` `input` `link` `meta`

## 6、页面导入样式时，使用 link 和 @import 有什么区别
* 从属关系：`@import` 是 CSS 提供的语法规则，只要导入样式表的作用，而 `link` 是 HTML 提供的标签，不仅可以用来加载 CSS 文件，还可以用来定义 RSS、引入网站图标等。

* 加载顺序：加载页面时，`link` 标签引入的 CSS 被同时加载，而 `@import` 引入的 CSS 将在页面加载完毕后被加载。

* 兼容性：`@import` 是 CSS2.1 才有的语法，故只可在 IE5+ 才能识别，而 `link` 标签不存在兼容性问题。

* DOM 可控性：可以通过 JS 操作 DOM 插入 `link` 标签来改变样式，由于 DOM 方法是基于文档的，无法使用 `@import` 的方式插入样式。

## 7、浏览器的渲染原理
1. 首先解析收到的文档，根据文档定义构建一棵 DOM 树，DOM 树是由 DOM 元素及属性节点组成的。

2. 然后对 CSS 进行解析，生成 CSSOM 规则树。

3. 根据 DOM 树和 CSSOM 规则树构建渲染树。渲染树的节点被称为渲染对象，渲染对象是一个包含有颜色和大小等属性的矩形，渲染对象和 DOM 元素相对应，但这种对应关系不是一对一的，不可见的 DOM 元素不会被插入渲染树。还有一些 DOM 元素对应几个可见对象，它们一般是一些具有复杂结构的元素，无法用一个矩形来描述。

4. 当渲染对象被创建并添加到树中，它们并没有位置和大小，所以当浏览器生成渲染树以后，就会根据渲染树来进行布局（也可以叫做回流）。这一阶段浏览器要做的事情是要弄清楚各个节点在页面中的确切位置和大小。通常这一行为也被称为“自动重排”。

5. 布局阶段结束后是绘制阶段，遍历渲染树并调用渲染对象的 paint 方法将它们的内容显示在屏幕上，绘制使用 UI 基础组件。

::: danger 注意
这个过程是逐步完成的，为了更好的用户体验，渲染引擎将会尽可能早的将内容呈现到屏幕上，并不会等到所有的 html 都解析完成之后再去构建和布局 render 树。它是解析完一部分内容就显示一部分内容，同时，可能还在通过网络下载其余内容。
:::

## 8、async 和 defer 的作用是什么，有什么区别
* 脚本如何没有指定 defer 或者 async，浏览器会立即加载并执行指定的脚本，页面加载时只要读取到就开始加载执行。

* defer 属性表示延迟执行引入的 JavaScript，加载脚本和 HTML 过程是并行的，当整个 document 解析完毕后才会执行相应脚本，会在 DOMContentLoaded 事件触发之前完成，多个带有 defer 属性的脚本会按照顺序执行。

* async 属性表示异步执行引入的 JavaScript，与 defer 的区别在于，如果加载完成就会立即执行，仍然会阻塞文档的解析，只是它的加载过程中不会阻塞，多个脚本的执行顺序无法保证。

## 9、什么是重绘和回流
重绘：当渲染树中的某些元素需要更新属性，而这些属性只是影响元素的外观，而不会影响位置（元素布局）的操作，比如改变某个元素的背景颜色，我们将这样的操作称为重绘。

回流：当渲染树中的某部分因为元素的尺寸、显示隐藏等改变而需要重新构建的操作，会影响到布局的操作，这样的操作称为回流。

::: danger 注意
回流必定会导致重绘，重绘不一定会引发回流。回流所需的成本比重绘高的多。
:::

| 触发回流的属性和方法      |                    |                         |
| ------------------------ | ------------------ | ----------------------- |
| width                    | height             | margin                  |
| padding                  | display            | border                  |
| position                 | overflow           | clientWidth             |
| clientHeight             | clientTop          | clientLeft              |
| offsetWidth              | offsetHeight       | offsetTop               |
| offsetLeft               | scrollWidth        | scrollHeight            |
| scrollTop                | scrollLeft         | scrollIntoView()        |
| scrollTo()               | getComputedStyle() | getBoundingClientRect() |
| scrollIntoViewIfNeeded() |                    |                         |

## 10、为什么操作 DOM 比较慢
* 一些 DOM 操作或者属性访问可能会引起页面的回流和重绘，从而引起性能上的消耗。

* DOM 属于浏览器渲染引擎中的东西，而 JS 属于 JS 引擎，但我们通过 JS 操作 DOM 的时候，操作涉及到两个线程之间的通信，多多少少会带来性能上的损耗。